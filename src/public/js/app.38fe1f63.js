(function(t){function a(a){for(var s,o,i=a[0],l=a[1],c=a[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(m.length)m.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,i=1;i<e.length;i++){var l=e[i];0!==r[l]&&(s=!1)}s&&(n.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},r={app:0},n=[];function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var d=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},1647:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("Body"),e("notifications",{attrs:{position:"bottom right",group:"app"}})],1)},n=[],o=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"container-fluid"},[e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("i",{staticClass:"fas fa-bars"})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("a",{staticClass:"navbar-brand mt-2 mt-lg-0",attrs:{href:"#"}},[e("img",{attrs:{src:"https://mdbootstrap.com/img/logo/mdb-transaprent-noshadows.png",height:"15",alt:"",loading:"lazy"}})]),e("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Dashboard")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Team")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Projects")])])])]),e("div",{staticClass:"d-flex align-items-center"},[e("a",{staticClass:"text-reset me-3",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-shopping-cart"})]),e("a",{staticClass:"text-reset me-3 dropdown-toggle hidden-arrow",attrs:{href:"#",id:"navbarDropdownMenuLink",role:"button","data-mdb-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-bell"}),e("span",{staticClass:"badge rounded-pill badge-notification bg-danger"},[t._v("1")])]),e("ul",{staticClass:"dropdown-menu dropdown-menu-end",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Some news")])]),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Another news")])]),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Something else here")])])]),e("a",{staticClass:"dropdown-toggle d-flex align-items-center hidden-arrow",attrs:{href:"#",id:"navbarDropdownMenuLink",role:"button","data-mdb-toggle":"dropdown","aria-expanded":"false"}},[e("img",{staticClass:"rounded-circle",attrs:{src:"https://mdbootstrap.com/img/new/avatars/2.jpg",height:"25",alt:"",loading:"lazy"}})]),e("ul",{staticClass:"dropdown-menu dropdown-menu-end",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("My profile")])]),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Settings")])]),e("li",[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Logout")])])])])])])}],l={name:"Navbar"},c=l,d=e("2877"),u=Object(d["a"])(c,o,i,!1,null,"42037e98",null),m=u.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"body"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"tab-content",attrs:{id:"ex1-content"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"ex1-tabs-1",role:"tabpanel","aria-labelledby":"ex1-tab-1"}},[e("Tareas")],1),e("div",{staticClass:"tab-pane fade",attrs:{id:"ex1-tabs-2",role:"tabpanel","aria-labelledby":"ex1-tab-2"}},[e("Usuarios")],1)])])])])])},v=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav nav-tabs mb-3",attrs:{id:"ex1",role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link active",attrs:{id:"ex1-tab-1","data-mdb-toggle":"tab",href:"#ex1-tabs-1",role:"tab","aria-controls":"ex1-tabs-1","aria-selected":"true"}},[t._v("Tareas")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link",attrs:{id:"ex1-tab-2","data-mdb-toggle":"tab",href:"#ex1-tabs-2",role:"tab","aria-controls":"ex1-tabs-2","aria-selected":"false"}},[t._v("Usuarios")])])])}],f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"tasks"}},[t.logs.log.length>0?e("div",[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-1 mr-0"},[e("i",{staticClass:"fas fa-times align-left",on:{click:function(a){t.logs={log:[],logStdout:[]}}}})])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[t._v("LOG")]),t._l(t.logs.log,(function(a){return e("li",{key:a,staticClass:"list-group-item"},[t._v(t._s(a)+" ")])}))],2)]),e("div",{staticClass:"col-md-6"},[e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[t._v("LOG STDOUT")]),t._l(t.logs.logStdout,(function(a){return e("li",{key:a,staticClass:"list-group-item"},[t._v(t._s(a)+" ")])}))],2)])])])])])])])]):t._e(),e("div",{staticClass:"modal fade",attrs:{id:"cronModal",tabindex:"-1","aria-labelledby":"cronModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-striped"},[t._m(2),e("tbody",t._l(t.cronImport,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-outline-info",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.importCrontab(a)}}},[e("i",{staticClass:"fas fa-file-import"})])])])])})),0)])])])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("form",{attrs:{action:""}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.cronUserImport,expression:"cronUserImport"}],staticClass:"form-select",attrs:{"aria-label":"Selecciona usuario al que importar"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.cronUserImport=a.target.multiple?e:e[0]}}},[e("option",{attrs:{selected:""}},[t._v("Selecciona usuario al que importar")]),t._l(t.users,(function(a){return e("option",{key:a._id,domProps:{value:a._id}},[t._v(t._s(a.name)+" ")])}))],2)])])])]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-mdb-dismiss":"modal"}},[t._v(" Cerrar ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(3),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],staticClass:"form-control",attrs:{type:"text",id:"nameTask"},domProps:{value:t.newTask.name},on:{input:function(a){a.target.composing||t.$set(t.newTask,"name",a.target.value)}}})])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.command,expression:"newTask.command"}],staticClass:"form-control",attrs:{type:"text",id:"commandTask"},domProps:{value:t.newTask.command},on:{input:function(a){a.target.composing||t.$set(t.newTask,"command",a.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"mb-3"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.minute,expression:"newTask.minute"}],staticClass:"form-control",attrs:{type:"text",id:"minuteTask"},domProps:{value:t.newTask.minute},on:{input:function(a){a.target.composing||t.$set(t.newTask,"minute",a.target.value)}}})])]),e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"mb-3"},[t._m(7),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.hour,expression:"newTask.hour"}],staticClass:"form-control",attrs:{type:"text",id:"hourTask"},domProps:{value:t.newTask.hour},on:{input:function(a){a.target.composing||t.$set(t.newTask,"hour",a.target.value)}}})])]),e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"mb-3"},[t._m(8),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.day,expression:"newTask.day"}],staticClass:"form-control",attrs:{type:"text",id:"dayTask"},domProps:{value:t.newTask.day},on:{input:function(a){a.target.composing||t.$set(t.newTask,"day",a.target.value)}}})])]),e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"mb-3"},[t._m(9),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.month,expression:"newTask.month"}],staticClass:"form-control",attrs:{type:"text",id:"monthTask"},domProps:{value:t.newTask.month},on:{input:function(a){a.target.composing||t.$set(t.newTask,"month",a.target.value)}}})])]),e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"mb-3"},[t._m(10),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.week,expression:"newTask.week"}],staticClass:"form-control",attrs:{type:"text",id:"weekTask"},domProps:{value:t.newTask.week},on:{input:function(a){a.target.composing||t.$set(t.newTask,"week",a.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3"},[t._m(11),e("input",{directives:[{name:"model",rawName:"v-model",value:t.job,expression:"job"}],staticClass:"form-control",attrs:{readonly:"",type:"text",id:"job"},domProps:{value:t.job},on:{input:function(a){a.target.composing||(t.job=a.target.value)}}})])]),e("div",{staticClass:"col-md-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.newTask.user,expression:"newTask.user"}],staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.newTask,"user",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:""}},[t._v("Seleccionar usuarios")]),t._l(t.users,(function(a){return e("option",{key:a._id,domProps:{value:a._id}},[t._v(t._s(a.name)+" ")])}))],2)])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"closeModal","data-mdb-dismiss":"modal"}},[t._v(" Close ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.setTask}},[t._v("Send message")])])])])]),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"f-l btn-group"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-mdb-toggle":"modal","data-mdb-target":"#exampleModal","data-mdb-ripple-color":"dark"}},[t._v(" Nuevo ")]),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-mdb-ripple-color":"dark","data-mdb-toggle":"modal","data-mdb-target":"#cronModal"},on:{click:t.getCrontabs}},[t._v(" Importar crontab ")])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("table",{staticClass:"table table-stripped"},[t._m(12),e("tbody",t._l(t.tasks,(function(a){return e("tr",{key:a._id},[e("th",[t._v(t._s(a.name))]),e("th",[t._v(t._s(t.getUserFilter(a.user).name))]),e("th",[t._v(t._s(a.command))]),e("th",[t._v(t._s(a.schedule))]),e("th",[t._v(t._s(t.formatDate(a.timestamp)))]),e("th",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{staticClass:"btn btn-outline-info",attrs:{disabled:a.stopped,type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.executeCron(a._id)}}},[e("i",{staticClass:"fas fa-forward"})]),!1===a.stopped?e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.switchStopped(a)}}},[e("i",{staticClass:"fas fa-stop"})]):e("button",{staticClass:"btn btn-outline-success",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.switchStopped(a)}}},[e("i",{staticClass:"fas fa-play"})]),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.deleteTask(a._id)}}},[e("i",{staticClass:"fas fa-trash"})]),e("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.getLogs(a._id)}}},[e("i",{staticClass:"fas fa-file-alt"})])])])])})),0)])])])])])])])},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-10"},[e("h2",{staticClass:"card-title"},[t._v("Logs")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"cronModalLabel"}},[t._v("Archivos cron encontrados")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-mdb-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Tarea")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-mdb-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"nameTask"}},[e("strong",[t._v(" Nombre: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"commandTask"}},[e("strong",[t._v(" Comando: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"minuteTask"}},[e("strong",[t._v(" Minuto: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"hourTask"}},[e("strong",[t._v(" Hora: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"dayTask"}},[e("strong",[t._v(" Día: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"monthTask"}},[e("strong",[t._v(" Mes: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"weekTask"}},[e("strong",[t._v(" Semana: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"job"}},[e("strong",[t._v(" Trabajo: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Nombre")]),e("th",[t._v("Usuario")]),e("th",[t._v("Comando")]),e("th",[t._v("Horario")]),e("th",[t._v("Creado el:")]),e("th",[t._v("Acciones")])])])}],h=e("5530"),g=e("1da1"),C=(e("96cf"),e("99af"),e("d3b7"),e("25f0"),e("4de4"),e("bc3a")),_=e.n(C),k={name:"Tareas",data:function(){return{newTask:{minute:"*",hour:"*",day:"*",month:"*",week:"*",command:"",name:"",user:null},fullJob:"",tasks:[],users:[],cronImport:[],cronUserImport:null,logs:{log:[],logStdout:[]}}},methods:{setTask:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.post("http://localhost:3000/api/v1/task/",{task:Object(h["a"])(Object(h["a"])({},this.newTask),{},{schedule:"".concat(this.newTask.minute," ").concat(this.newTask.hour," ").concat(this.newTask.day," ").concat(this.newTask.month," ").concat(this.newTask.week)})});case 3:a=t.sent,this.tasks.push(a.data.task),document.getElementById("closeModal").click(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0.toString());case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function a(){return t.apply(this,arguments)}return a}(),getAllTasks:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("http://localhost:3000/api/v1/task/");case 2:a=t.sent,e=a.data.tasks,this.tasks=e;case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),getAllUsers:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("http://localhost:3000/api/v1/user/");case 2:a=t.sent,e=a.data.users,this.users=e;case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),executeCron:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("http://localhost:3000/api/v1/task/".concat(a,"/execute"));case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function a(a){return t.apply(this,arguments)}return a}(),getUserFilter:function(t){var a=this.users.filter((function(a){return a._id===t}));return a.length>0?a[0]:{}},formatDate:function(t){var a=new Date(t);return"".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear())},updateTask:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a.id=a._id,t.next=4,_.a.put("http://localhost:3000/api/v1/task/",{task:Object(h["a"])({},a)});case 4:e=t.sent,console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function a(a){return t.apply(this,arguments)}return a}(),deleteTask:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("http://localhost:3000/api/v1/task/".concat(a));case 3:e=t.sent,console.log(e),this.tasks=this.tasks.filter((function(t){return t._id!==a})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function a(a){return t.apply(this,arguments)}return a}(),switchStopped:function(t){t.stopped=!t.stopped,this.updateTask(t)},getLogs:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("http://localhost:3000/api/v1/task/log/".concat(a));case 3:e=t.sent,this.logs=e.data.log,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$notify({group:"app",title:"Error obteniendo los logs",text:t.t0.toString()});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function a(a){return t.apply(this,arguments)}return a}(),getCrontabs:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("http://localhost:3000/api/v1/task/import/crontab");case 3:a=t.sent,this.cronImport=a.data.crons,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function a(){return t.apply(this,arguments)}return a}(),importCrontab:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("http://localhost:3000/api/v1/task/import/crontab/".concat(this.cronUserImport),{filename:a});case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTaskFilter:function(t){var a=this.tasks.filter((function(a){return a._id===t}));return a.length>0?a[0]:{}}},mounted:function(){this.getAllTasks(),this.getAllUsers()},computed:{job:{get:function(){return"".concat(this.newTask.minute," ").concat(this.newTask.hour," ").concat(this.newTask.day," ").concat(this.newTask.month," ").concat(this.newTask.week," ").concat(this.newTask.command)},set:function(t){this.fullJob=t}}}},w=k,y=(e("a770"),Object(d["a"])(w,f,b,!1,null,"585d5d22",null)),x=y.exports,T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"users"}},[e("div",{staticClass:"modal fade",attrs:{id:"tasksModal",tabindex:"-1","aria-labelledby":"tasksModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-striped"},[t._m(1),e("tbody",t._l(t.taskByUser,(function(a){return e("tr",{key:a._id},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.command))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-outline-info",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.executeCron(a._id)}}},[e("i",{staticClass:"fas fa-forward"})]),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.deleteTask(a._id)}}},[e("i",{staticClass:"fas fa-trash"})])])])])})),0)])])])])]),t._m(2)])])]),e("div",{staticClass:"modal fade",attrs:{id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(3),e("div",{staticClass:"modal-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"form-control",attrs:{type:"text",id:"nameTask"},domProps:{value:t.newUser.name},on:{input:function(a){a.target.composing||t.$set(t.newUser,"name",a.target.value)}}})])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mb-3"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.path,expression:"newUser.path"}],staticClass:"form-control",attrs:{type:"text",id:"commandTask"},domProps:{value:t.newUser.path},on:{input:function(a){a.target.composing||t.$set(t.newUser,"path",a.target.value)}}})])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-mdb-dismiss":"modal"}},[t._v(" Close ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.setUser}},[t._v("Send message")])])])])]),e("div",{staticClass:"container-fluid"},[t._m(6),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-stripped"},[t._m(7),e("tbody",t._l(t.users,(function(a){return e("tr",{key:a._id},[e("th",[t._v(t._s(a._id))]),e("th",[t._v(t._s(a.name))]),e("th",[t._v(t._s(a.path))]),e("th",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{staticClass:"btn btn-outline-info",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.createCrontab(a._id)}}},[e("i",{staticClass:"fas fa-forward"})]),e("button",{staticClass:"btn btn-outline-primary",attrs:{"data-mdb-ripple-color":"dark","data-mdb-toggle":"modal","data-mdb-target":"#tasksModal"},on:{click:function(e){return t.getTasksByUserId(a._id)}}},[e("i",{staticClass:"fas fa-tasks"})]),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-mdb-ripple-color":"dark"},on:{click:function(e){return t.deleteUser(a._id)}}},[e("i",{staticClass:"fas fa-trash"})])])])])})),0)])])])])])},j=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"tasksModalLabel"}},[t._v("Tareas del usuario")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-mdb-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Comando")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-mdb-dismiss":"modal"}},[t._v(" Cerrar ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Usuarios")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-mdb-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"nameTask"}},[e("strong",[t._v(" Nombre: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label f-l",attrs:{for:"commandTask"}},[e("strong",[t._v(" Ruta: ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"f-l"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-mdb-toggle":"modal","data-mdb-target":"#exampleModal2","data-mdb-ripple-color":"dark"}},[t._v(" Nuevo ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Path")]),e("th",[t._v("Acciones")])])])}],$={name:"Usuarios",data:function(){return{newUser:{path:"",name:""},users:[],taskByUser:[]}},methods:{setUser:function(){_.a.post("http://localhost:3000/api/v1/user/",{user:Object(h["a"])({},this.newUser)})},getAllUsers:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("http://localhost:3000/api/v1/user/");case 2:a=t.sent,e=a.data.users,this.users=e;case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),executeCron:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("http://localhost:3000/api/v1/task/".concat(a,"/execute"));case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t)})));function a(a){return t.apply(this,arguments)}return a}(),createCrontab:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("http://localhost:3000/api/v1/user/createCron/".concat(a));case 2:this.$notify("this is a test");case 3:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),deleteUser:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("http://localhost:3000/api/v1/user/".concat(a));case 3:e=t.sent,console.log(e),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function a(a){return t.apply(this,arguments)}return a}(),getTasksByUserId:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("http://localhost:3000/api/v1/task/user/".concat(a));case 3:e=t.sent,this.taskByUser=e.data.tasks,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function a(a){return t.apply(this,arguments)}return a}(),deleteTask:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("http://localhost:3000/api/v1/task/".concat(a));case 3:e=t.sent,console.log(e),this.taskByUser=this.taskByUser.filter((function(t){return t._id!==a})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function a(a){return t.apply(this,arguments)}return a}()},mounted:function(){this.getAllUsers()}},U=$,O=(e("d395"),Object(d["a"])(U,T,j,!1,null,"53aa0e58",null)),R=O.exports,E={name:"Body",components:{Usuarios:R,Tareas:x}},M=E,S=Object(d["a"])(M,p,v,!1,null,"308f8712",null),N=S.exports,P={name:"App",components:{Body:N,Navbar:m}},L=P,A=(e("034f"),Object(d["a"])(L,r,n,!1,null,null,null)),B=A.exports,D=e("ee98"),I=e.n(D);s["default"].config.productionTip=!1,s["default"].use(I.a),new s["default"]({render:function(t){return t(B)}}).$mount("#app")},"57ee":function(t,a,e){},"85ec":function(t,a,e){},a770:function(t,a,e){"use strict";e("57ee")},d395:function(t,a,e){"use strict";e("1647")}});
//# sourceMappingURL=app.38fe1f63.js.map